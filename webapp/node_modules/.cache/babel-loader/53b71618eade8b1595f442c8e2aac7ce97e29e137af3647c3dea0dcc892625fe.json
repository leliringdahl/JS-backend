{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felle\\\\Desktop\\\\typescript\\\\webapp\\\\src\\\\contexts\\\\ShoppingCartContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShoppingCartContext = /*#__PURE__*/createContext({});\nexport function useShoppingCart() {\n  _s();\n  return useContext(ShoppingCartContext);\n}\n_s(useShoppingCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const ShoppingCartProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [cartItems, setCartItems] = useState([]);\n  const cartQuantity = cartItems.reduce((quantity, item, product) => item.quantity + product + quantity, 0);\n  const increaseQuantity = cartItem => {\n    const {\n      articleNumber,\n      product\n    } = cartItem;\n    setCartItems(cartItems => {\n      if (cartItems.find(item => item.articleNumber === articleNumber) == null) {\n        return [...cartItems, {\n          articleNumber,\n          product,\n          quantity: 1\n        }];\n      } else {\n        return cartItems.map(item => {\n          if (item.articleNumber === articleNumber) {\n            return {\n              ...item,\n              quantity: item.quantity + 1\n            };\n          } else {\n            return item;\n          }\n        });\n      }\n    });\n  };\n  const decreaseQuantity = cartItem => {\n    const {\n      articleNumber,\n      product\n    } = cartItem;\n    setCartItems(cartItems => {\n      var _cartItems$find;\n      if (((_cartItems$find = cartItems.find(item => item.articleNumber === articleNumber)) === null || _cartItems$find === void 0 ? void 0 : _cartItems$find.quantity) == 1) {\n        return cartItems.filter(item => item.articleNumber !== articleNumber);\n      } else {\n        return cartItems.map(item => {\n          if (item.articleNumber === articleNumber) {\n            return {\n              ...item,\n              quantity: item.quantity - 1\n            };\n          } else {\n            return item;\n          }\n        });\n      }\n    });\n  };\n  function removeFromCart(articleNumber) {\n    setCartItems(cartItems => {\n      return cartItems.filter(item => item.articleNumber !== articleNumber);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(ShoppingCartContext.Provider, {\n    value: {\n      increaseQuantity,\n      decreaseQuantity,\n      removeFromCart,\n      cartItems,\n      cartQuantity\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 12\n  }, this);\n};\n_s2(ShoppingCartProvider, \"jeyeRm/hZ/3zvXF4PAYTLSHDNRs=\");\n_c = ShoppingCartProvider;\nexport default ShoppingCartContext;\nvar _c;\n$RefreshReg$(_c, \"ShoppingCartProvider\");","map":{"version":3,"names":["createContext","useContext","useState","ShoppingCartContext","useShoppingCart","ShoppingCartProvider","children","cartItems","setCartItems","cartQuantity","reduce","quantity","item","product","increaseQuantity","cartItem","articleNumber","find","map","decreaseQuantity","filter","removeFromCart"],"sources":["C:/Users/felle/Desktop/typescript/webapp/src/contexts/ShoppingCartContext.tsx"],"sourcesContent":["import { createContext, ReactNode, useContext, useState } from \"react\"\r\nimport { ProductItem } from \"../models/ProductModels\"\r\n\r\n\r\n\r\ninterface ShoppingCartProviderProps {\r\n    children: ReactNode\r\n}\r\n\r\nexport interface CartItem {\r\n    articleNumber: string\r\n    product: ProductItem\r\n    quantity: number\r\n}\r\nexport interface ShoppingCartType {\r\n    increaseQuantity: (cartItem:CartItem) => void\r\n    decreaseQuantity: (cartItem:CartItem) => void\r\n    removeFromCart: (articleNumber:string) => void\r\n    cartQuantity: number\r\n    cartItems: CartItem[]\r\n}\r\n\r\nexport const ShoppingCartContext = createContext({} as \r\n    ShoppingCartType)\r\n\r\nexport function useShoppingCart() {\r\n    return useContext(ShoppingCartContext)\r\n}\r\n\r\n\r\nexport const ShoppingCartProvider:React.FC<ShoppingCartProviderProps> = ({children}) => {\r\n        const [cartItems, setCartItems] =useState<CartItem[]>([])\r\n\r\n        const cartQuantity = cartItems.reduce(\r\n            (quantity, item, product) => item.quantity + product + quantity, 0\r\n            )\r\n\r\n\r\n        const increaseQuantity = (cartItem: CartItem) => {\r\n            const {articleNumber, product} = cartItem\r\n\r\n            setCartItems(cartItems => {\r\n                if (cartItems.find(item => item.articleNumber === articleNumber) == null) {\r\n                    return [...cartItems, { articleNumber, product, quantity: 1}]\r\n                } else {\r\n                    return cartItems.map(item => {\r\n                        if (item.articleNumber === articleNumber) {\r\n                            return {...item, quantity: item.quantity +1}\r\n                        } else {\r\n                            return item\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        const decreaseQuantity = (cartItem: CartItem) => {\r\n            const {articleNumber, product} = cartItem\r\n\r\n            setCartItems(cartItems => {\r\n                if (cartItems.find(item => item.articleNumber === articleNumber)?.quantity == 1) {\r\n                    return cartItems.filter(item => item.articleNumber !== articleNumber )\r\n                } else {\r\n                    return cartItems.map(item => {\r\n                        if (item.articleNumber === articleNumber) {\r\n                            return {...item, quantity: item.quantity -1}\r\n                        } else {\r\n                            return item\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        function removeFromCart(articleNumber:string) {\r\n            setCartItems(cartItems => {\r\n                return cartItems.filter(item => item.articleNumber !== articleNumber)\r\n            })\r\n        }\r\n\r\n \r\n\r\n    return <ShoppingCartContext.Provider value={{increaseQuantity, decreaseQuantity, removeFromCart, cartItems, cartQuantity}}>\r\n    {children}\r\n\r\n    </ShoppingCartContext.Provider>\r\n}\r\n\r\nexport default ShoppingCartContext"],"mappings":";;;AAAA,SAASA,aAAa,EAAaC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAAA;AAsBtE,OAAO,MAAMC,mBAAmB,gBAAGH,aAAa,CAAC,CAAC,CAAC,CAC9B;AAErB,OAAO,SAASI,eAAe,GAAG;EAAA;EAC9B,OAAOH,UAAU,CAACE,mBAAmB,CAAC;AAC1C;AAAC,GAFeC,eAAe;AAK/B,OAAO,MAAMC,oBAAwD,GAAG,QAAgB;EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC;EAC3E,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAEN,QAAQ,CAAa,EAAE,CAAC;EAEzD,MAAMO,YAAY,GAAGF,SAAS,CAACG,MAAM,CACjC,CAACC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,KAAKD,IAAI,CAACD,QAAQ,GAAGE,OAAO,GAAGF,QAAQ,EAAE,CAAC,CACjE;EAGL,MAAMG,gBAAgB,GAAIC,QAAkB,IAAK;IAC7C,MAAM;MAACC,aAAa;MAAEH;IAAO,CAAC,GAAGE,QAAQ;IAEzCP,YAAY,CAACD,SAAS,IAAI;MACtB,IAAIA,SAAS,CAACU,IAAI,CAACL,IAAI,IAAIA,IAAI,CAACI,aAAa,KAAKA,aAAa,CAAC,IAAI,IAAI,EAAE;QACtE,OAAO,CAAC,GAAGT,SAAS,EAAE;UAAES,aAAa;UAAEH,OAAO;UAAEF,QAAQ,EAAE;QAAC,CAAC,CAAC;MACjE,CAAC,MAAM;QACH,OAAOJ,SAAS,CAACW,GAAG,CAACN,IAAI,IAAI;UACzB,IAAIA,IAAI,CAACI,aAAa,KAAKA,aAAa,EAAE;YACtC,OAAO;cAAC,GAAGJ,IAAI;cAAED,QAAQ,EAAEC,IAAI,CAACD,QAAQ,GAAE;YAAC,CAAC;UAChD,CAAC,MAAM;YACH,OAAOC,IAAI;UACf;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN,CAAC;EAED,MAAMO,gBAAgB,GAAIJ,QAAkB,IAAK;IAC7C,MAAM;MAACC,aAAa;MAAEH;IAAO,CAAC,GAAGE,QAAQ;IAEzCP,YAAY,CAACD,SAAS,IAAI;MAAA;MACtB,IAAI,oBAAAA,SAAS,CAACU,IAAI,CAACL,IAAI,IAAIA,IAAI,CAACI,aAAa,KAAKA,aAAa,CAAC,oDAA5D,gBAA8DL,QAAQ,KAAI,CAAC,EAAE;QAC7E,OAAOJ,SAAS,CAACa,MAAM,CAACR,IAAI,IAAIA,IAAI,CAACI,aAAa,KAAKA,aAAa,CAAE;MAC1E,CAAC,MAAM;QACH,OAAOT,SAAS,CAACW,GAAG,CAACN,IAAI,IAAI;UACzB,IAAIA,IAAI,CAACI,aAAa,KAAKA,aAAa,EAAE;YACtC,OAAO;cAAC,GAAGJ,IAAI;cAAED,QAAQ,EAAEC,IAAI,CAACD,QAAQ,GAAE;YAAC,CAAC;UAChD,CAAC,MAAM;YACH,OAAOC,IAAI;UACf;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN,CAAC;EAED,SAASS,cAAc,CAACL,aAAoB,EAAE;IAC1CR,YAAY,CAACD,SAAS,IAAI;MACtB,OAAOA,SAAS,CAACa,MAAM,CAACR,IAAI,IAAIA,IAAI,CAACI,aAAa,KAAKA,aAAa,CAAC;IACzE,CAAC,CAAC;EACN;EAIJ,oBAAO,QAAC,mBAAmB,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACF,gBAAgB;MAAEK,gBAAgB;MAAEE,cAAc;MAAEd,SAAS;MAAEE;IAAY,CAAE;IAAA,UACzHH;EAAQ;IAAA;IAAA;IAAA;EAAA,QAEsB;AACnC,CAAC;AAAA,IAxDYD,oBAAwD;AAAA,KAAxDA,oBAAwD;AA0DrE,eAAeF,mBAAmB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}